{% extends "base.html" %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
    <div>
        <h2>Execution Roadmap</h2>
        <p style="color: var(--text-muted);">Step-by-step strategic action plan for <b>{{ doc.filename }}</b></p>
    </div>
</div>

<div style="position: relative; padding-left: 30px; border-left: 3px solid #e2e8f0; margin-left: 10px;">
    
    {% for phase in roadmap %}
    <div style="margin-bottom: 40px; position: relative;">
        <div style="position: absolute; left: -41px; top: 0; width: 16px; height: 16px; background: #4f46e5; border-radius: 50%; border: 4px solid white; box-shadow: 0 0 0 1px #cbd5e1;"></div>
        
        <h3 style="margin: 0 0 5px 0; color: #1e293b;">{{ phase.phase }}</h3>
        <span style="background: #e0e7ff; color: #4338ca; padding: 4px 10px; border-radius: 20px; font-size: 12px; font-weight: 600; display: inline-block; margin-bottom: 15px;">
            Focus: {{ phase.focus }}
        </span>

        <div style="display: grid; gap: 15px;">
            {% for step in phase.steps %}
            <div class="card" style="margin: 0; border-left: 4px solid #10b981; padding: 20px;">
                <h4 style="margin: 0 0 10px 0; font-size: 16px;">ðŸŽ¯ {{ step.what }}</h4>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; font-size: 14px;">
                    <div>
                        <p style="color: #64748b; margin: 0 0 5px 0; font-size: 12px; font-weight: 600; text-transform: uppercase;">Strategic Justification (Why)</p>
                        <p style="margin: 0; color: #334155;">{{ step.why }}</p>
                    </div>
                    <div>
                        <p style="color: #64748b; margin: 0 0 5px 0; font-size: 12px; font-weight: 600; text-transform: uppercase;">Success Metric (How)</p>
                        <p style="margin: 0; color: #334155;">ðŸ“ˆ {{ step.how }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

    </div>
    {% endfor %}

</div>
{% endblock %}