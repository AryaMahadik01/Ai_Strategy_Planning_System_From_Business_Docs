<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0" />

<style>
    /* Ensure perfect alignment between icons and text */
    .sidebar-nav a, .sidebar-bottom a {
        display: flex;
        align-items: center;
        gap: 8px;
        text-decoration: none;
    }
    .sidebar-nav a .material-symbols-outlined, 
    .sidebar-bottom a .material-symbols-outlined {
        font-size: 20px;
        opacity: 0.8;
    }
    /* Hover effect for icons */
    .sidebar-nav a:hover .material-symbols-outlined {
        opacity: 1;
    }
</style>

<div class="sidebar">
    <div class="logo">
        <div class="logo-container">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="StrategixAI Logo" class="nav-logo">
        </div>StrategixAI
    </div>

    <div class="profile" style="margin-bottom: 3px; padding-bottom: 3px; border-bottom: 1px solid #334155;">
        <p style="color: #94a3b8; font-size: 13px;">LOGGED IN AS</p>
        <p style="font-weight: 600;">{{ session.get('user') }}</p>
    </div>

    {% if session.get('role') == 'user' and user_document_list %}
    <div style="padding: 3px; background: #1e293b; margin-bottom: 5px; border-radius: 2px;">
        <p style="color: #94a3b8; font-size: 11px; margin-bottom: 5px; font-weight: 600; text-transform: uppercase;">Active Document</p>
        <select onchange="window.location.href='/user/switch_doc/' + this.value" style="width: 100%; padding: 8px; border-radius: 4px; border: none; background: #334155; color: white; font-size: 13px; cursor: pointer; outline: none;">
            {% for d in user_document_list %}
                <option value="{{ d._id }}" {% if d._id == active_doc_id %}selected{% endif %}>
                    {{ d.filename }}
                </option>
            {% endfor %}
        </select>
    </div>
    {% endif %}

    <div class="sidebar-nav">
        
        {% if session.get('role') == 'user' %}
            <div class="nav-section">
                <p class="nav-title">HOME</p>
                <a href="/user/dashboard"><span class="material-symbols-outlined">dashboard</span> Dashboard</a>
                <a href="/user/documents"><span class="material-symbols-outlined">folder_open</span> Business Documents</a>
            </div>

            <div class="nav-section">
                <p class="nav-title">STRATEGY</p>
                <a href="/user/overview"><span class="material-symbols-outlined">leaderboard</span> Strategy Overview</a>
                <a href="/user/insights"><span class="material-symbols-outlined">psychology</span> AI Insights</a>
                <a href="/user/performance"><span class="material-symbols-outlined">trending_up</span> Performance & KPIs</a>
                <a href="/user/scenarios"><span class="material-symbols-outlined">alt_route</span> Scenario Comparison</a>
                <a href="/user/roadmap"><span class="material-symbols-outlined">map</span> Step-by-Step Roadmap</a>
                <a href="/user/chat"><span class="material-symbols-outlined">chat_bubble_outline</span> Chat with Document</a>
                <a href="/user/compare"><span class="material-symbols-outlined">compare_arrows</span> Strategy Comparison</a>
            </div>

            <div class="nav-section">
                <p class="nav-title">OUTPUT</p>
                <a href="/user/reports"><span class="material-symbols-outlined">article</span> Reports & Exports</a>
            </div>

            <div class="nav-section">
                <p class="nav-title">ACCOUNT</p>
                <a href="/user/profile"><span class="material-symbols-outlined">settings</span> Settings</a>
            </div>
        {% endif %}

        {% if session.get('role') == 'admin' %}
            <div class="nav-section">
                <p class="nav-title">ADMIN CONTROL</p>
                <a href="/admin/dashboard"><span class="material-symbols-outlined">admin_panel_settings</span> Admin Dashboard</a>
                <a href="/admin/analytics"><span class="material-symbols-outlined">monitoring</span> System Analytics</a>
                <a href="/admin/users"><span class="material-symbols-outlined">manage_accounts</span> Users Management</a>
                <a href="/admin/strategies"><span class="material-symbols-outlined">hub</span> Strategy Patterns</a>
                <a href="/admin/risks"><span class="material-symbols-outlined">warning</span> Risk Heatmaps</a>
                <a href="/admin/logs"><span class="material-symbols-outlined">history</span> Audit & Logs</a>
            </div>
        {% endif %}
        
    </div>

    <div class="sidebar-bottom" style="border-top: 1px solid #334155; padding-top: 15px;">
        <a href="/logout" style="color: #ef4444;"><span class="material-symbols-outlined">logout</span> Logout</a>
    </div>

</div>