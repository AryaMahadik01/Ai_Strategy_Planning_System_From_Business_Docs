{% extends "base.html" %}

{% block content %}
<h2>System Analytics</h2>
<p style="color: var(--text-muted); margin-bottom: 30px;">Deep dive into platform usage and strategy trends.</p>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 24px;">
    
    <div class="card">
        <h3>User Growth</h3>
        <canvas id="userChart" style="max-height: 250px;"></canvas>
    </div>

    <div class="card">
        <h3>Document Processing Volume</h3>
        <canvas id="docChart" style="max-height: 250px;"></canvas>
    </div>

    <div class="card">
        <h3>Strategy Type Distribution</h3>
        <p style="color: var(--text-muted); font-size: 13px;">Most common strategic focuses generated by AI.</p>
        <canvas id="strategyChart" style="max-height: 250px;"></canvas>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// Placeholder data - replaced comment to avoid Jinja error
new Chart(document.getElementById("userChart"), {
    type: 'line',
    data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May'],
        datasets: [{ label: 'New Users', data: [12, 19, 3, 5, 2], borderColor: '#4f46e5', tension: 0.4 }]
    }
});

// Document Chart
new Chart(document.getElementById("docChart"), {
    type: 'bar',
    data: {
        labels: ['Proposal', 'Financial', 'Risk Report', 'Strategy'],
        datasets: [{ label: 'Documents', data: [5, 8, 3, 6], backgroundColor: '#38bdf8' }]
    }
});

// Strategy Pie Chart
new Chart(document.getElementById("strategyChart"), {
    type: 'doughnut',
    data: {
        labels: ['Growth', 'Cost', 'Risk', 'Digital'],
        datasets: [{ 
            data: [45, 30, 15, 10], 
            backgroundColor: ['#4f46e5', '#10b981', '#f59e0b', '#ef4444'] 
        }]
    }
});
</script>
{% endblock %}