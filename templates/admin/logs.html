{% extends "base.html" %}

{% block content %}
<style>
    .log-entry { font-family: 'Courier New', monospace; font-size: 13px; padding: 10px; border-bottom: 1px solid #f1f5f9; display: flex; gap: 15px; }
    .log-time { color: var(--text-muted); width: 150px; flex-shrink: 0; }
    .log-user { color: var(--primary); width: 150px; flex-shrink: 0; font-weight: 600; }
    .log-action { flex: 1; }
</style>

<h2>System Audit Logs</h2>
<p style="color: var(--text-muted); margin-bottom: 30px;">Real-time tracking of user actions and system events.</p>

<div class="card" style="padding: 0; max-height: 600px; overflow-y: auto;">
    <div style="background: #f8fafc; padding: 10px; border-bottom: 1px solid #e2e8f0; font-weight: 600; font-size: 12px; display: flex; gap: 15px;">
        <span style="width: 150px;">TIMESTAMP</span>
        <span style="width: 150px;">USER</span>
        <span>ACTION</span>
    </div>

    {% for log in logs %}
    <div class="log-entry">
        <div class="log-time">{{ log.timestamp.strftime('%Y-%m-%d %H:%M') if log.timestamp else 'Unknown' }}</div>
        <div class="log-user">{{ log.user }}</div>
        <div class="log-action">
            <b>{{ log.action }}</b> 
            <span style="color: #64748b;">- {{ log.meta }}</span>
        </div>
    </div>
    {% else %}
    <div style="padding: 20px; text-align: center; color: var(--text-muted);">No logs found.</div>
    {% endfor %}
</div>
{% endblock %}